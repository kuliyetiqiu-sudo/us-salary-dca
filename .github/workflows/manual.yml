name: US Stock Daily Report

on:
  schedule:
    # ğŸ•’ UTC 07:00 = åŒ—äº¬æ—¶é—´ 15:00
    # æ¯å¤©ä¸‹åˆ3ç‚¹å‘é€æ—¥æŠ¥
    - cron: '0 7 * * *'
    
  # å…è®¸æ‰‹åŠ¨ç«‹å³è§¦å‘æµ‹è¯•
  workflow_dispatch:

jobs:
  run-monitor:
    runs-on: ubuntu-latest
    
    # è®¾ç½®è¶…æ—¶é˜²æ­¢å¡æ­»
    timeout-minutes: 10
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
          cache: 'pip'

      - name: Install dependencies
        run: pip install requests

      - name: Run Monitor Script
        env:
          # è®¾ç½®æ—¶åŒºï¼Œç¡®ä¿æŠ¥å‘Šé‡Œçš„æ—¶é—´æ˜¾ç¤ºæ­£ç¡®
          TZ: 'Asia/Shanghai'
        run: python main.py
